import{b as F,d as A,g as R,k as q,l as H,m as K,p as G}from"./chunk-ZLCATDXL.js";import{a as J}from"./chunk-KAETFBQ2.js";import"./chunk-KQYNL3Z4.js";import{e as N,g as L}from"./chunk-FPE6HGOE.js";import{Fa as P,Ka as O,Oa as h,Qb as E,Rb as I,Sb as V,Ub as W,Va as _,Vb as B,Wa as e,Wb as z,X as p,Xa as i,Y as m,Ya as k,a as S,ab as y,b as j,bb as x,cb as l,hb as D,jb as n,kb as g,lb as M,mb as w,nb as T,ob as u,pb as f,qb as C,tb as b,vb as v,xa as r}from"./chunk-5TTR76IQ.js";function U(d,a){if(d&1&&(e(0,"div",35)(1,"div",36)(2,"strong"),n(3),i(),e(4,"p",37),n(5),b(6,"date"),i()(),e(7,"div",38)(8,"span",39),n(9),i(),e(10,"span",40),n(11),i()()()),d&2){let t=a.$implicit,s=l(3);r(3),g(t.title),r(2),w("",v(6,6,t.dueDate,"mediumDate")," \u2022 Assigned to: ",t.assignee||s.project.createdBy),r(3),_("ngClass",t.status.toLowerCase().replace(" ","-")),r(),g(t.status),r(2),g(t.priority||"Low")}}function X(d,a){if(d&1){let t=y();e(0,"div",3)(1,"div",4),n(2),i(),e(3,"div",5)(4,"div",6)(5,"h1"),n(6),e(7,"span",7),n(8),i()(),e(9,"p",8),n(10),i()(),e(11,"div",9)(12,"button",10),x("click",function(){p(t);let o=l(2);return m(o.openCreateTask())}),n(13,"Create New Task"),i(),e(14,"button",11),x("click",function(){p(t);let o=l(2);return m(o.editProject())}),n(15," Edit Project "),e(16,"span",12),n(17,"\u270E"),i()(),e(18,"button",13),x("click",function(){p(t);let o=l(2);return m(o.deleteProject())}),n(19," Delete Project "),e(20,"span",14),n(21,"\u{1F5D1}"),i()()()(),e(22,"div",15)(23,"div",16)(24,"span",17),n(25,"\u{1F4C5}"),i(),e(26,"div")(27,"label"),n(28,"Project Timeline"),i(),e(29,"strong"),n(30),b(31,"date"),b(32,"date"),i()()(),e(33,"div",16)(34,"span",17),n(35,"\u{1F465}"),i(),e(36,"div")(37,"label"),n(38,"Created By"),i(),e(39,"strong"),n(40),i()()()(),e(41,"div",18)(42,"div",19)(43,"span")(44,"span",17),n(45,"\u{1F4C8}"),i(),n(46," Progress"),i()(),e(47,"div",20),k(48,"div",21),i(),e(49,"small",22),n(50),b(51,"number"),i()(),e(52,"div",23)(53,"div",24)(54,"p"),n(55,"To Do"),i(),e(56,"h2"),n(57),i()(),e(58,"div",25)(59,"p"),n(60,"In Progress"),i(),e(61,"h2"),n(62),i()(),e(63,"div",26)(64,"p"),n(65,"Completed"),i(),e(66,"h2"),n(67),i()(),e(68,"div",27)(69,"p"),n(70,"Overdue"),i(),e(71,"h2"),n(72),i()()(),e(73,"div",28)(74,"div",29)(75,"h3"),n(76,"Tasks"),i(),e(77,"div",30)(78,"button",31),n(79,"List"),i(),e(80,"button",32),n(81,"Board"),i(),e(82,"button",33),x("click",function(){p(t);let o=l(2);return m(o.openCreateTask())}),n(83,"Create New Task"),i()()(),h(84,U,12,9,"div",34),i()()}if(d&2){let t=l(2);r(2),M(" Projects / ",t.project.title," "),r(4),M(" ",t.project.title," "),r(2),g(t.project.status),r(2),g(t.project.desc),r(20),w("",v(31,17,t.project.start,"mediumDate")," - ",v(32,20,t.project.end,"mediumDate")),r(10),g(t.project.createdBy),r(8),D("width",t.progressPercentage,"%"),r(2),T("Day ",t.currentDayOfProject," of ",t.totalDaysOfProject," (",v(51,23,t.progressPercentage,"1.0-0"),"%)"),r(7),g(t.toDo),r(5),g(t.inProgress),r(5),g(t.completed),r(5),g(t.overdue),r(12),_("ngForOf",t.project.tasks)}}function Y(d,a){if(d&1){let t=y();e(0,"div",3)(1,"div",41)(2,"h1",42),n(3,"Create Task"),i(),e(4,"p",43),n(5,"Create your task"),i()(),e(6,"div",44)(7,"p",45),n(8,"Add a new task to track progress on your project"),i(),e(9,"div",46)(10,"div",47)(11,"label"),n(12,"Project "),e(13,"span",48),n(14,"*"),i()(),k(15,"input",49),i(),e(16,"div",47)(17,"label"),n(18,"Title "),e(19,"span",48),n(20,"*"),i()(),e(21,"input",50),C("ngModelChange",function(o){p(t);let c=l(2);return f(c.newTask.title,o)||(c.newTask.title=o),m(o)}),i()(),e(22,"div",47)(23,"label"),n(24,"Status "),e(25,"span",48),n(26,"*"),i()(),e(27,"select",51),C("ngModelChange",function(o){p(t);let c=l(2);return f(c.newTask.status,o)||(c.newTask.status=o),m(o)}),e(28,"option"),n(29,"To Do"),i(),e(30,"option"),n(31,"In Progress"),i(),e(32,"option"),n(33,"Completed"),i()()(),e(34,"div",47)(35,"label"),n(36,"Priority "),e(37,"span",48),n(38,"*"),i()(),e(39,"select",51),C("ngModelChange",function(o){p(t);let c=l(2);return f(c.newTask.priority,o)||(c.newTask.priority=o),m(o)}),e(40,"option"),n(41,"Low"),i(),e(42,"option"),n(43,"Medium"),i(),e(44,"option"),n(45,"High"),i()()(),e(46,"div",52)(47,"label"),n(48,"Description"),i(),e(49,"textarea",53),C("ngModelChange",function(o){p(t);let c=l(2);return f(c.newTask.description,o)||(c.newTask.description=o),m(o)}),i(),e(50,"span",54),n(51),i()(),e(52,"div",47)(53,"label"),n(54,"Assignee "),e(55,"span",48),n(56,"*"),i()(),e(57,"select",51),C("ngModelChange",function(o){p(t);let c=l(2);return f(c.newTask.assignee,o)||(c.newTask.assignee=o),m(o)}),e(58,"option",55),n(59,"Select an assignee"),i(),e(60,"option"),n(61),i(),e(62,"option"),n(63,"Hemanth"),i(),e(64,"option"),n(65,"Vinoth"),i(),e(66,"option"),n(67,"Dinesh"),i(),e(68,"option"),n(69,"Kumar"),i()()(),e(70,"div",47)(71,"label"),n(72,"Due Date "),e(73,"span",48),n(74,"*"),i()(),e(75,"input",56),C("ngModelChange",function(o){p(t);let c=l(2);return f(c.newTask.dueDate,o)||(c.newTask.dueDate=o),m(o)}),i(),e(76,"small",57),n(77),i()()(),e(78,"div",58)(79,"button",59),x("click",function(){p(t);let o=l(2);return m(o.saveCreatedTask())}),n(80,"Create Task"),i(),e(81,"button",60),x("click",function(){p(t);let o=l(2);return m(o.resetForm())}),n(82,"Reset"),i(),e(83,"button",60),x("click",function(){p(t);let o=l(2);return m(o.isCreateTaskMode=!1)}),n(84,"Cancel"),i()()()()}if(d&2){let t=l(2);r(15),_("value",t.project.title),r(6),u("ngModel",t.newTask.title),r(6),u("ngModel",t.newTask.status),r(12),u("ngModel",t.newTask.priority),r(10),u("ngModel",t.newTask.description),r(2),M("",(t.newTask.description==null?null:t.newTask.description.length)||0,"/500"),r(6),u("ngModel",t.newTask.assignee),r(4),g(t.project.createdBy),r(14),u("ngModel",t.newTask.dueDate),r(2),w("Project dates: ",t.project.start," \u2192 ",t.project.end)}}function Z(d,a){if(d&1&&(e(0,"div",1),h(1,X,85,26,"div",2)(2,Y,85,11,"div",2),i()),d&2){let t=l();r(),_("ngIf",!t.isCreateTaskMode),r(),_("ngIf",t.isCreateTaskMode)}}var Q=class d{constructor(a,t,s){this.route=a;this.taskService=t;this.router=s}project;isCreateTaskMode=!1;progressPercentage=0;newTask={title:"",status:"To Do",priority:"Medium",description:"",assignee:"",dueDate:""};ngOnInit(){let a=Number(this.route.snapshot.paramMap.get("id"));this.taskService.projects$.subscribe(t=>{this.project=t.find(s=>s.id===a),this.project&&(this.project.tasks||(this.project.tasks=[]),this.calculateProgress())})}openCreateTask(){this.resetForm(),this.isCreateTaskMode=!0}saveCreatedTask(){if(!this.newTask.title||!this.newTask.assignee){alert("Please fill in required fields");return}let a=j(S({},this.newTask),{id:Date.now()});this.project.tasks.push(a),this.taskService.updateProject(this.project),this.isCreateTaskMode=!1,this.calculateProgress()}resetForm(){this.newTask={title:"",status:"To Do",priority:"Medium",description:"",assignee:"",dueDate:""}}calculateProgress(){if(!this.project?.tasks?.length){this.progressPercentage=0;return}let a=this.project.tasks.filter(t=>t.status==="Completed").length;this.progressPercentage=a/this.project.tasks.length*100}get toDo(){return this.project?.tasks?.filter(a=>a.status==="To Do").length||0}get inProgress(){return this.project?.tasks?.filter(a=>a.status==="In Progress").length||0}get completed(){return this.project?.tasks?.filter(a=>a.status==="Completed").length||0}get overdue(){return this.project?.tasks?.filter(a=>a.status!=="Completed"&&new Date(a.dueDate)<new Date).length||0}get totalDaysOfProject(){let a=new Date(this.project.start),t=new Date(this.project.end);return Math.ceil(Math.abs(t.getTime()-a.getTime())/(1e3*60*60*24))||0}get currentDayOfProject(){let a=new Date(this.project.start),t=Math.ceil((new Date().getTime()-a.getTime())/(1e3*60*60*24));return Math.max(0,Math.min(t,this.totalDaysOfProject))}deleteProject(){confirm("Delete project?")&&(this.taskService.deleteProject(this.project.id),this.router.navigate(["/projects"]))}editProject(){}static \u0275fac=function(t){return new(t||d)(P(N),P(J),P(L))};static \u0275cmp=O({type:d,selectors:[["app-projects-details"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["class","view-wrapper",4,"ngIf"],[1,"view-wrapper"],[1,"breadcrumb"],[1,"header"],[1,"header-left"],[1,"badge"],[1,"desc"],[1,"actions"],[1,"btn-create",3,"click"],[1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"info-row"],[1,"info-item"],[1,"icon"],[1,"progress-section"],[1,"progress-header"],[1,"progress-bar-container"],[1,"progress-fill"],[1,"progress-label"],[1,"stats"],[1,"card"],[1,"card","blue"],[1,"card","green"],[1,"card","red"],[1,"task-section"],[1,"task-header"],[1,"view-toggle"],[1,"toggle-btn","active"],[1,"toggle-btn"],[1,"btn-create-small",3,"click"],["class","task-card",4,"ngFor","ngForOf"],[1,"task-card"],[1,"task-main"],[1,"task-meta"],[1,"task-status-area"],[1,"status-pill",3,"ngClass"],[1,"priority-pill","low"],[1,"form-header-area"],[1,"page-title"],[1,"page-subtitle"],[1,"styled-form-card"],[1,"form-instruction"],[1,"form-grid-layout"],[1,"field-box"],[1,"req"],["type","text","disabled","",1,"grey-input","disabled-input",3,"value"],["type","text","placeholder","Enter task title",1,"grey-input",3,"ngModelChange","ngModel"],[1,"grey-input",3,"ngModelChange","ngModel"],[1,"field-box","wide-field"],["placeholder","Enter description (optional)",1,"grey-input","text-area-input",3,"ngModelChange","ngModel"],[1,"count-label"],["value","","disabled",""],["type","date",1,"grey-input",3,"ngModelChange","ngModel"],[1,"hint-text"],[1,"form-action-buttons"],[1,"btn-olive-submit",3,"click"],[1,"btn-round-grey",3,"click"]],template:function(t,s){t&1&&h(0,Z,3,2,"div",0),t&2&&_("ngIf",s.project)},dependencies:[z,E,I,V,G,H,K,F,q,A,R,B,W],styles:[".container[_ngcontent-%COMP%]{padding:40px 60px;background-color:#fff;min-height:100vh;font-family:Inter,sans-serif}.breadcrumb[_ngcontent-%COMP%]{color:#888;font-size:13px;margin-bottom:25px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;font-weight:700;display:flex;align-items:center;gap:15px;margin:0}.header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;font-size:12px;padding:4px 12px;border-radius:12px}.header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:#666;margin-top:8px}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;padding:10px 22px;border-radius:20px;cursor:pointer;font-weight:500;display:flex;align-items:center;gap:8px}.actions[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{background:#e2f1cc;color:#1a1a1a}.actions[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{background:#f3f4f6;border:1px solid #e5e7eb}.actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background:#e14d3d;color:#fff}.info-row[_ngcontent-%COMP%]{display:flex;gap:80px;margin-bottom:30px}.progress-bar-container[_ngcontent-%COMP%]{width:100%;height:6px;background:#e5e7eb;border-radius:10px;margin:10px 0}.progress-fill[_ngcontent-%COMP%]{height:100%;background:#3b82f6;transition:width .5s ease}.stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:40px}.stats[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:25px;border-radius:12px;border:1px solid #f0f0f0}.stats[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;margin:10px 0 0}.stats[_ngcontent-%COMP%]   .card.blue[_ngcontent-%COMP%]{background:#f0f7ff}.stats[_ngcontent-%COMP%]   .card.green[_ngcontent-%COMP%]{background:#f0fdf4}.stats[_ngcontent-%COMP%]   .card.red[_ngcontent-%COMP%]{background:#fff1f2}.form-header-area[_ngcontent-%COMP%]{margin-bottom:35px}.form-header-area[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:42px;font-weight:700;margin:0;color:#111}.form-header-area[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{color:#888;font-size:16px;margin-top:5px}.styled-form-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #f2f2f2;border-radius:16px;padding:40px;box-shadow:0 4px 15px #00000005}.styled-form-card[_ngcontent-%COMP%]   .form-instruction[_ngcontent-%COMP%]{color:#666;font-size:14px;margin-bottom:30px}.form-grid-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}.field-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;position:relative}.field-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.field-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .req[_ngcontent-%COMP%]{color:#e14d3d}.field-box[_ngcontent-%COMP%]   .grey-input[_ngcontent-%COMP%]{background-color:#f3f4f6;border:none;padding:15px;border-radius:10px;font-size:14px;outline:none;width:100%;box-sizing:border-box}.field-box[_ngcontent-%COMP%]   .grey-input.disabled-input[_ngcontent-%COMP%]{color:#888;cursor:not-allowed}.field-box[_ngcontent-%COMP%]   .text-area-input[_ngcontent-%COMP%]{height:120px;resize:none}.field-box.wide-field[_ngcontent-%COMP%]{grid-column:span 2}.field-box[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{position:absolute;right:0;bottom:-20px;font-size:11px;color:#aaa}.field-box[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]{font-size:12px;color:#888;margin-top:5px}.form-action-buttons[_ngcontent-%COMP%]{margin-top:50px;display:flex;justify-content:center;gap:15px}.form-action-buttons[_ngcontent-%COMP%]   .btn-olive-submit[_ngcontent-%COMP%]{background-color:#96a37a;color:#fff;width:320px;padding:16px;border-radius:30px;border:none;font-weight:600;font-size:16px;cursor:pointer;transition:background .3s}.form-action-buttons[_ngcontent-%COMP%]   .btn-olive-submit[_ngcontent-%COMP%]:hover{background-color:#859269}.form-action-buttons[_ngcontent-%COMP%]   .btn-round-grey[_ngcontent-%COMP%]{background-color:#eef2f6;color:#444;padding:10px 35px;border-radius:30px;border:none;font-weight:500;cursor:pointer}"]})};export{Q as ProjectsDetailsComponent};
