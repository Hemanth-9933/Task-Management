import{N as c,R as f,_b as a,a as n,b as s,h as e,pa as r}from"./chunk-5TTR76IQ.js";var m=class o{constructor(t){this.platformId=t;a(this.platformId)&&this.loadNotifications()}notifications=[];notificationsSubject=new e([]);notifications$=this.notificationsSubject.asObservable();addNotification(t){let i={id:Date.now(),message:t,timestamp:new Date,read:!1};this.notifications.unshift(i),this.saveNotifications(),this.notificationsSubject.next(this.notifications)}markAsRead(t){let i=this.notifications.find(h=>h.id===t);i&&(i.read=!0,this.saveNotifications(),this.notificationsSubject.next(this.notifications))}markAllAsRead(){this.notifications.forEach(t=>t.read=!0),this.saveNotifications(),this.notificationsSubject.next(this.notifications)}clearAll(){this.notifications=[],this.saveNotifications(),this.notificationsSubject.next(this.notifications)}loadNotifications(){let t=localStorage.getItem("notifications");t&&(this.notifications=JSON.parse(t).map(i=>s(n({},i),{timestamp:new Date(i.timestamp)})),this.notificationsSubject.next(this.notifications))}saveNotifications(){a(this.platformId)&&localStorage.setItem("notifications",JSON.stringify(this.notifications))}static \u0275fac=function(i){return new(i||o)(f(r))};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{m as a};
