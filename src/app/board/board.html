<div class="board-wrapper">

  <!-- ================= HEADER ================= -->

  <div class="top-section">
    <h1>All Boards</h1>

    <div class="right-actions">
      <button class="filter-btn" (click)="showFilters = true">
        <img src="/icons/filters.png" alt="filter">
        Filters
      </button>
    </div>
  </div>


  <!-- ================= OVERLAY ================= -->

  <div class="filter-overlay"
       *ngIf="showFilters"
       (click)="showFilters = false">
  </div>


  <!-- ================= RIGHT SIDE FILTER PANEL ================= -->

  <div class="filter-panel" *ngIf="showFilters">

    <div class="filter-header">
      <h3>Filters</h3>
      <span class="close" (click)="showFilters = false">✕</span>
    </div>


    <!-- STATUS (UI Only – matches screenshot) -->
    <div class="filter-card">
      <h4>Status</h4>

      <label><input type="checkbox"> To Do</label>
      <label><input type="checkbox"> In Progress</label>
      <label><input type="checkbox"> Done</label>
      <label><input type="checkbox"> On Hold</label>
    </div>


    <!-- PRIORITY (WORKING DYNAMIC FILTER) -->
    <div class="filter-card">
      <h4>Priority</h4>

      <label>
        <input type="checkbox"
               (change)="setFilter('low')"
               [checked]="filterPriority === 'low'">
        Low
      </label>

      <label>
        <input type="checkbox"
               (change)="setFilter('medium')"
               [checked]="filterPriority === 'medium'">
        Medium
      </label>

      <label>
        <input type="checkbox"
               (change)="setFilter('high')"
               [checked]="filterPriority === 'high'">
        High
      </label>

      <label>
        <input type="checkbox"
               (change)="setFilter('urgent')"
               [checked]="filterPriority === 'urgent'">
        Urgent
      </label>
    </div>


    <div class="filter-card">
      <h4>Assignee</h4>

      <label><input type="checkbox"> Hemanth</label>
      <label><input type="checkbox"> Vinoth</label>
      <label><input type="checkbox"> Dinesh</label>
      <label><input type="checkbox"> Shivam</label>
    </div>


    <button class="clear-btn" (click)="setFilter('')">
      Clear All Filters
    </button>

  </div>

  <div class="board" cdkDropListGroup>

    <div class="column todo"
         id="todo"
         cdkDropList
         [cdkDropListData]="todoTasks"
         (cdkDropListDropped)="onDrop($event)">

      <div class="column-header">
        <h3>To Do</h3>
        <span class="count">{{ todoTasks.length }}</span>
      </div>

      <div class="task-card"
           *ngFor="let task of todoTasks"
           cdkDrag>

        <div class="task-title">{{ task.title }}</div>
        <div class="task-project">{{ task.projectTitle }}</div>

        <div class="task-footer">
          <span class="priority" [ngClass]="task.priority">
            {{ task.priority }}
          </span>
          <span class="due">{{ task.dueDate }}</span>
        </div>
      </div>
    </div>


    <div class="column progress"
         id="inprogress"
         cdkDropList
         [cdkDropListData]="inProgressTasks"
         (cdkDropListDropped)="onDrop($event)">

      <div class="column-header">
        <h3>In Progress</h3>
        <span class="count">{{ inProgressTasks.length }}</span>
      </div>

      <div class="task-card"
           *ngFor="let task of inProgressTasks"
           cdkDrag>

        <div class="task-title">{{ task.title }}</div>
        <div class="task-project">{{ task.projectTitle }}</div>

        <div class="task-footer">
          <span class="priority" [ngClass]="task.priority">
            {{ task.priority }}
          </span>
          <span class="due">{{ task.dueDate }}</span>
        </div>
      </div>
    </div>


    <div class="column done"
         id="done"
         cdkDropList
         [cdkDropListData]="doneTasks"
         (cdkDropListDropped)="onDrop($event)">

      <div class="column-header">
        <h3>Completed</h3>
        <span class="count">{{ doneTasks.length }}</span>
      </div>

      <div class="task-card"
           *ngFor="let task of doneTasks"
           cdkDrag>

        <div class="task-title">{{ task.title }}</div>
        <div class="task-project">{{ task.projectTitle }}</div>

        <div class="task-footer">
          <span class="priority" [ngClass]="task.priority">
            {{ task.priority }}
          </span>
          <span class="due">{{ task.dueDate }}</span>
        </div>
      </div>
    </div>

  </div>
</div>